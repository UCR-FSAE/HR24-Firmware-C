\hypertarget{bms1000m_8h_source}{}\doxysection{bms1000m.\+h}
\label{bms1000m_8h_source}\index{CAN Devices/bms1000m.h@{CAN Devices/bms1000m.h}}
\mbox{\hyperlink{bms1000m_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{******************************************************************************}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ \ \ \ bms1000m.h}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ \ \ \ VCU1200\_Base}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ \ \ \ Erik\ Stafl}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ \ \ 1/23/2016}}
\DoxyCodeLine{00007\ \textcolor{comment}{}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ \ \ \ Written\ for\ Tiva\ TM4C123BH6PGE}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ \ \ \ Language:\ C++}}
\DoxyCodeLine{00010\ \textcolor{comment}{}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ \ \ \ Copyright\ (c)\ 2013-\/2016\ Stafl\ Systems,\ LLC.\ \ All\ rights\ reserved.}}
\DoxyCodeLine{00012\ \textcolor{comment}{******************************************************************************}}
\DoxyCodeLine{00013\ \textcolor{comment}{*/}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#ifndef\ BMS1000M\_H\_}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ BMS1000M\_H\_}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{critical_8h}{Library/critical.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{can__interface_8h}{Library/can\_interface.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{can__receiver_8h}{Library/can\_receiver.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{error_8h}{Library/error.h}}"{}}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_b_m_s1000_m}{BMS1000M}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_c_a_n_receiver}{CANReceiver}}}
\DoxyCodeLine{00023\ \{}
\DoxyCodeLine{00024\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{comment}{//\ State\ of\ the\ BMS}}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{class_b_m_s1000_m_a2dbc222f4f024f0515435b391e1b0f65}{BMSState}}}
\DoxyCodeLine{00027\ \ \ \ \ \{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_a2dbc222f4f024f0515435b391e1b0f65ade5211381b7ea200f74268cc98c35448}{INTERNAL\_ERROR}}\ =\ 0,}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_a2dbc222f4f024f0515435b391e1b0f65a49690e104489cde2a7c59527870ac917}{SLEEP}},}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_a2dbc222f4f024f0515435b391e1b0f65adfb64a6d3c0fb31c694a3b2a017dbdaa}{STARTUP}},}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_a2dbc222f4f024f0515435b391e1b0f65ae05ea204240b54734f729519c0c1be68}{IDLE}},}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_a2dbc222f4f024f0515435b391e1b0f65a6757289f28d3bc0601d47fc58a224770}{PRECHARGE}},}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_a2dbc222f4f024f0515435b391e1b0f65a163c89b240a74f4fa579750eca0971d8}{ACTIVE}},}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_a2dbc222f4f024f0515435b391e1b0f65ab3eb3461a8c9789f6cb9aa6a928e496f}{FAULT}},}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_a2dbc222f4f024f0515435b391e1b0f65a61273cdfbe16d4c9b53f2e07e0734738}{NUM\_BMS\_STATES}}}
\DoxyCodeLine{00036\ \ \ \ \ \};}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{comment}{//\ BMS\ Commands}}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{class_b_m_s1000_m_acdde22f9b6e99ab2e20771d5fe54966a}{BMSCommand}}}
\DoxyCodeLine{00040\ \ \ \ \ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_acdde22f9b6e99ab2e20771d5fe54966aa2d9729443e47c03436a01a618d93a822}{NO\_COMMAND}}\ =\ 0,}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_acdde22f9b6e99ab2e20771d5fe54966aa60436459674d27cab4cec6db0288dd1c}{BMS\_SLEEP}},}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_acdde22f9b6e99ab2e20771d5fe54966aacd2a6467eed918aaee1b727b87427dbd}{BMS\_IDLE}},}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_acdde22f9b6e99ab2e20771d5fe54966aa10840113d5ddd7e9011bea1e15fdd231}{BMS\_PRECHARGE}},}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_acdde22f9b6e99ab2e20771d5fe54966aac2614996f2f8e7fc15835b0293b4237c}{BMS\_CLEAR\_FAULTS}},}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_acdde22f9b6e99ab2e20771d5fe54966aaa2ee33b3cbb7736fead38fdc7a1fb771}{BMS\_PRECHARGE\_COMPLETE}},}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_acdde22f9b6e99ab2e20771d5fe54966aabdb4d5ffd638fc9ac3d36b2813ed4bf0}{NUM\_BMS\_COMMANDS}}}
\DoxyCodeLine{00048\ \ \ \ \ \};}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{comment}{//\ BMS\ Fault\ Conditions}}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458b}{BMSFault}}}
\DoxyCodeLine{00052\ \ \ \ \ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458ba0e0931a3caa18f0aca2ae0a03242647c}{PACK\_VOLTAGE\_HIGH}}\ =\ 0,}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458bac63259666d8b9f2a26d697c4977bf093}{PACK\_VOLTAGE\_LOW}},}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458bad463a0022e5a685be62528476c2c0f48}{CELL\_VOLTAGE\_HIGH}},}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458ba07ff1e5cc02a2a4784b929a8999f8708}{CELL\_VOLTAGE\_LOW}},}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458ba69e678ea2efac7330855729a802eed04}{HIGH\_PACK\_DISCHARGE\_CURRENT}},}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458ba8d97370e809c1d605f4cf78fa0e9a5bd}{HIGH\_PACK\_CHARGE\_CURRENT}},}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458bacc791aed5b8851a81a7af7b97e7ae848}{HIGH\_TEMPERATURE}},}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458ba94d51734555a2fba788883a28d798127}{LOW\_TEMPERATURE}},}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458bae36cac413864b07cb38f91f83127caae}{PRECHARGE\_FAULT}},}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458baf7f1aad356b53f80f8066a9d7eae7280}{BMS\_COMMUNICATION\_FAULT}},}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458ba5c4bd0a5fd540634f5c3ee121fea06ac}{DISCHARGE\_ENVELOPE\_FAULT}},}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458ba121f358469a2d9af82c8dea4af03b127}{CHARGE\_ENVELOPE\_FAULT}},}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458bae32b327bad9f15dedc2c4f9f7c948d0b}{ISOLATION\_LEAKAGE\_FAULT}},}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458ba5baed1d8c1c175dac209e64641e4f6cb}{NUM\_BMS\_FAULTS}}}
\DoxyCodeLine{00067\ \ \ \ \ \};}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{comment}{//\ Monitor\ Board\ Communication\ Status}}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{class_b_m_s1000_m_aeba97bb9584dba8a33156000410afe14}{MonitorError}}}
\DoxyCodeLine{00071\ \ \ \ \ \{}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_aeba97bb9584dba8a33156000410afe14a1da3418c665828bb1b9e33014063b075}{MONITOR\_INCORRECT\_NUMBER}}\ =\ 0,}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_aeba97bb9584dba8a33156000410afe14a06cfe9284b5c71bb7e40c8534d58787c}{MONITOR\_INCOMPATIBLE\_FIRMWARE}},}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_aeba97bb9584dba8a33156000410afe14a8d0376cde5467445c4e18360fdd34272}{MONITOR\_LOSS\_OF\_ALL\_COMMUNICATION}},}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_aeba97bb9584dba8a33156000410afe14a445cd4f610f943e395967cf387190b9c}{MONITOR\_ADDRESS\_CONFLICT}},}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_aeba97bb9584dba8a33156000410afe14a1c18a4f4650b930a3f88ad25c94cbcd8}{MONITOR\_UNEXPECTED\_ADDRESS}},}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_aeba97bb9584dba8a33156000410afe14a40e428fa1c79a31d927c43bafc6ecb82}{NUM\_MONITOR\_ERRORS}}}
\DoxyCodeLine{00078\ \ \ \ \ \};}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{comment}{//\ State\ of\ the\ BMS}}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{class_b_m_s1000_m_aa63e85b72fcc301df7f7cffa11caf6f9}{BMSStatusFlag}}}
\DoxyCodeLine{00082\ \ \ \ \ \{}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_aa63e85b72fcc301df7f7cffa11caf6f9a11f2212fc20c13d2b6b1d0293b89f170}{PRECHARGE\_RELAY}}\ =\ 0,}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_aa63e85b72fcc301df7f7cffa11caf6f9a58b803feb68f41ff54118f0140f907ef}{MAIN\_CONTACTOR\_POS}},}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_aa63e85b72fcc301df7f7cffa11caf6f9a396a76f74830a3d1ea1387bc4d277337}{MAIN\_CONTACTOR\_NEG}},}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_aa63e85b72fcc301df7f7cffa11caf6f9a777947c23e44c7f889111124557f2d16}{HVIL\_PRESENT}},}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_aa63e85b72fcc301df7f7cffa11caf6f9a16edcc3b1d7297ae3a13d81311c62da1}{BMS\_MONITOR\_POWER}},}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_aa63e85b72fcc301df7f7cffa11caf6f9a83fcfdd77f7cd662362438cf33682838}{CELL\_BALANCING}},}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_aa63e85b72fcc301df7f7cffa11caf6f9a6894da67daeb8a1f42cabc66c480c363}{MONITOR\_COMMUNICATION\_GOOD}},}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_aa63e85b72fcc301df7f7cffa11caf6f9a6e6a6611129ca4c7b528c30141349eb2}{NUM\_STATUS\_FLAGS}}}
\DoxyCodeLine{00091\ \ \ \ \ \};}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{comment}{//\ Default\ Constructor}}
\DoxyCodeLine{00094\ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m}{BMS1000M}}(\mbox{\hyperlink{class_c_a_n_interface}{CANInterface}}*\ can\_interface,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ can\_id\_offset);}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{//\ Return\ Highest\ Cell\ Temperature}}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_b_m_s1000_m_a457a0a63fd7aa279f61585792d215611}{getMaxCellTemp}}();}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{comment}{//\ Return\ Highest\ Cell\ Voltage}}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_b_m_s1000_m_a8c624d13675e7a7a91435b96fb8d3a3d}{getMaxCellVoltage}}();}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ Return\ Lowest\ Cell\ Temperature}}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_b_m_s1000_m_a4e8798c1d4c2fa58583921f02748b13f}{getMinCellTemp}}();}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{comment}{//\ Return\ Lowest\ Cell\ Voltage}}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_b_m_s1000_m_a99db0453e73e2d7042e7335210e713d1}{getMinCellVoltage}}();}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{comment}{//\ Return\ Measured\ Pack\ Current}}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_b_m_s1000_m_a5fc2bd5d458968a1ff554f8f82c36dbb}{getPackCurrent}}();}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{comment}{//\ Return\ Measured\ Pack\ Voltage}}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_b_m_s1000_m_a18780deccbba855459577dfd414fa73a}{getPackVoltage}}();}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{comment}{//\ Return\ Measured\ Precharge\ Voltage}}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_b_m_s1000_m_a82ed05aebe9d7f660e3fc6a9edf6ca9c}{getPrechargeVoltage}}();}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{comment}{//\ Return\ Reported\ State\ of\ Charge}}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_b_m_s1000_m_a8673a587f87cc9d99e3ccc47ccfef1ce}{getSOC}}();}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{comment}{//\ Return\ Current\ State\ of\ BMS}}
\DoxyCodeLine{00121\ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_a2dbc222f4f024f0515435b391e1b0f65}{BMSState}}\ \mbox{\hyperlink{class_b_m_s1000_m_aa674c1dc780bb08a5befc3440aca1fee}{getState}}();}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{comment}{//\ Return\ a\ BMS\ Status\ Flag}}
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_b_m_s1000_m_a93b6d5da70366f7be838e5c9ba02f754}{getStatusFlag}}(\mbox{\hyperlink{class_b_m_s1000_m_aa63e85b72fcc301df7f7cffa11caf6f9}{BMSStatusFlag}}\ status);}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{comment}{//\ Return\ Pack\ Sum\ of\ Cells\ Voltage}}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_b_m_s1000_m_a8101a099bd243a901f50f1865621de56}{getSumOfCellsVoltage}}();}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{comment}{//\ Initialize\ CAN\ Message\ Reception}}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_m_s1000_m_a8869eb691722fadafb9369d005134c8a}{initializeCANReceive}}();}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{comment}{//\ Return\ True\ if\ Fault\ is\ Active}}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_b_m_s1000_m_a85b0bcd99d957648119cc05a4cfa5497}{isFaultActive}}();}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{comment}{//\ Process\ Received\ CAN\ Message}}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_b_m_s1000_m_aec3d0e0ebd01a9445b1727374ca4c8d5}{receiveCANMessage}}(\mbox{\hyperlink{can__ports_8h_a3f2f5f4937538a2725339f03ce1d49cb}{CANPort}}\ can\_port,\ \mbox{\hyperlink{structt_c_a_n_msg_object}{tCANMsgObject}}*\ message,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ mailbox);}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{comment}{//\ Request\ BMS\ Firmware\ Version}}
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_m_s1000_m_ae65c9850074e90b8ebbd9807223bd3c6}{requestFirmwareVersion}}();}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{comment}{//\ Request\ BMS\ State\ Change}}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_m_s1000_m_ac5a2aadfc16bde1fbf7a67f4580cb435}{requestStateChange}}(\mbox{\hyperlink{class_b_m_s1000_m_acdde22f9b6e99ab2e20771d5fe54966a}{BMSCommand}}\ command);}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{comment}{//\ Resets\ All\ Class\ Data}}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_m_s1000_m_a4fd23a3609b8d016486b8cb55c616fe2}{reset}}();}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{comment}{//\ Perform\ Regular\ Processing}}
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_m_s1000_m_a5fad02e1e575d0b4ff1be1c01f58bf43}{tick}}();}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{comment}{//\ CAN\ ID\ Offset}}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ can\_offset;}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{comment}{//\ CAN\ Interface\ Pointer}}
\DoxyCodeLine{00155\ \ \ \ \ \mbox{\hyperlink{class_c_a_n_interface}{CANInterface}}*\ can;}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{comment}{//\ True\ if\ Fault\ Condition\ is\ Active}}
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{keywordtype}{bool}\ fault\_active;}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{comment}{//\ Fault\ Flags}}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordtype}{bool}\ faults[\mbox{\hyperlink{class_b_m_s1000_m_ac9b85ee8fb0740870b9a0141ee06458ba5baed1d8c1c175dac209e64641e4f6cb}{NUM\_BMS\_FAULTS}}];}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{comment}{//\ Monitor\ Error\ Flags}}
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{keywordtype}{bool}\ monitor\_errors[\mbox{\hyperlink{class_b_m_s1000_m_aeba97bb9584dba8a33156000410afe14a40e428fa1c79a31d927c43bafc6ecb82}{NUM\_MONITOR\_ERRORS}}];}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{comment}{//\ BMS\ Status\ Flags}}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordtype}{bool}\ status\_flags[\mbox{\hyperlink{class_b_m_s1000_m_aa63e85b72fcc301df7f7cffa11caf6f9a6e6a6611129ca4c7b528c30141349eb2}{NUM\_STATUS\_FLAGS}}];}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{comment}{//\ True\ if\ Contactor\ Opening\ is\ Imminent}}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordtype}{bool}\ contactor\_open\_imminent;}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{comment}{//\ Current\ BMS\ State}}
\DoxyCodeLine{00173\ \ \ \ \ \mbox{\hyperlink{class_b_m_s1000_m_a2dbc222f4f024f0515435b391e1b0f65}{BMSState}}\ bms\_state;}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{comment}{//\ Number\ of\ Monitor\ Boards\ Detected}}
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ num\_monitor\_boards;}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{comment}{//\ Maximum\ Discharge\ Current}}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keywordtype}{float}\ max\_discharge\_current;\ \ \ \ \textcolor{comment}{//\ A}}
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keywordtype}{float}\ max\_charge\_current;\ \ \ \ \ \ \ \textcolor{comment}{//\ A}}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{comment}{//\ Pack\ Data}}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordtype}{float}\ pack\_voltage;\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ V}}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keywordtype}{float}\ sum\_of\_cells\_voltage;\ \ \ \ \ \textcolor{comment}{//\ V}}
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordtype}{float}\ precharge\_voltage;\ \ \ \ \ \ \ \ \textcolor{comment}{//\ V}}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keywordtype}{float}\ pack\_current;\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ A}}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keywordtype}{float}\ soc;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \%}}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordtype}{float}\ soh;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \%}}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{comment}{//\ Cell\ Data}}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordtype}{float}\ max\_cell\_voltage;\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ V}}
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keywordtype}{float}\ min\_cell\_voltage;\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ V}}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keywordtype}{float}\ max\_cell\_temperature;\ \ \ \ \ \textcolor{comment}{//\ Deg\ C}}
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{keywordtype}{float}\ min\_cell\_temperature;\ \ \ \ \ \textcolor{comment}{//\ Deg\ C}}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \ \ \ \ \textcolor{comment}{//\ Version\ Numbers}}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ version\_major;}
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ version\_minor;}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ version\_revision;}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{comment}{//\ Number\ of\ Ticks\ Since\ Program\ Start}}
\DoxyCodeLine{00202\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ tick\_counter;}
\DoxyCodeLine{00203\ \};}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ BMS1000M\_H\_\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
